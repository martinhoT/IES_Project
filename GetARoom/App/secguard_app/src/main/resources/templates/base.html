<!DOCTYPE html>
<html lang="en">
    <head>
        <th:block th:fragment="head">
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" th:href="@{/css/base.css}" type="text/css">
        </th:block>
    </head>
    <body>
      <!-- NOTE: wrap the navbar and the notification window in a 'div' element with id 'notification-consumers' -->
        
        <nav class="navbar navbar-icon-top navbar-expand-lg navbar-dark bg-dark" th:fragment="navbar">
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item active">
                <a class="nav-link" th:href="@{/sec}">
                  <i class="fa fa-home"></i>
                  Home
                  <span class="sr-only">(current)</span>
                  </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" th:href="@{/heatmaps}">
                  Map
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" th:href="@{/logs}">
                  Logs
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" th:href="@{/blacklist}">
                  Blacklist
                </a>
              </li>
            </ul>
            <ul class="navbar-nav ">
              <li class="nav-item">
                <a class="nav-link" th:href="@{/notifications}">
                  Notifications
                  <span data-bind="if: unseen_count() > 0">
                    <span class="notification-amount" data-bind="text: unseen_count"></span>
                  </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" th:href="@{/logout}">
                  Log out
                </a>
              </li>
            </ul>
          </div>
        </nav>

        <div class="notification-window" th:fragment="alerts">
            <ul class="notification-list" data-bind="foreach: notifications_popups">
              <li class="alert">
                <button class="btn btn-info" data-bind="click: $root.commitSeen">&times;</button>Alert for <span data-bind="text: room"></span>: User '<span data-bind="text: user"></span>' with email '<span data-bind="text: email"></span>' entered.
              </li>
            </ul>
        </div>

        <th:block th:fragment="scripts">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
          <script th:src="@{/scripts/base.js}" src="../static/scripts/base.js"></script>
        </th:block>
    </body>
</html>