<html lang="en">
<head>
    <th:block th:include="base :: head" />
    <title>Heatmaps</title>
    <link rel="stylesheet" th:href="@{/css/heatmap.css}" href="../static/css/heatmap.css" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js""></script>
</head>
<body>
    <nav th:replace="base :: navbar"></nav>

    <div>
        <select name="heatmap" id="map_choice">
            <optgroup label="Deti:">
                <option value="4.1">1º andar</option>
                <option value="4.2" selected>2º andar</option>
            </optgroup>
            <optgroup label="Biblioteca:">
                <option value="17.1">1º andar</option>
                <option value="17.2">2º andar</option>
                <option value="17.3">3º andar</option>
            </optgroup>
        </select>
    </div>
    
    <h2>Heatmaps</h2>

    <div class="container" id="map">
        <h4>Deti 1º</h4>
        <div class="map-container">
            <a th:href="@{/room/4.1.19}">
                <div class="box hm-almost-full" id="clr:4.1.19" style="top:8.3%; left:42%; width:11.5%; height:13.5%">
                    <p th:utext="${roomOccupacy.get('4.1.19')}" id="pct:4.1.19">38%</p>
                </div>
            </a>
            <a th:href="@{/room/4.1.20}">
                <div class="box hm-almost-full" id="clr:4.1.20" style="top:8.3%; left:53.5%; width:7.2%; height:13.5%">
                    <p th:utext="${roomOccupacy.get('4.1.20')}" id="pct:4.1.20">60%</p>
                </div>
            </a>
            <img id="1D" th:src="@{images/deti1.jpg}" src="../static/images/deti1.jpg" style="width: 100%;">
        </div>
        <h4>Deti 2º</h4>
        <img id="2D" th:src="@{images/deti2.jpg}" style="width: 100%;">
        <h4>Biblioteca 1º</h4>
        <img id="1B" th:src="@{images/biblio1.jpg}" style="width: 100%;">
        <h4>Biblioteca 2º</h4>
        <img id="2B" th:src="@{images/biblio2.jpg}" style="width: 100%;">
        <h4>Biblioteca 3º</h4>
        <img id="3B" th:src="@{images/biblio3.jpg}" style="width: 100%;">
    </div>

    <th:block th:include="base :: scripts" />
    
    <script>
        // $( "#map_choice" ).change(function () {
        //     let str = "";
        //     $( "#map_choice option:selected" ).each(function() {
        //         str += $( this ).text() + " ";
        //     });
        //     $( "#update" ).text( str );
        //     }).change();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script defer th:src="@{scripts/heatmaps.js}" src="../static/scripts/heatmaps.js"></script>
</body>
</html>
